<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tīrīšanas līdzekļi - Fernox Latvia</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .category-page {
            padding: 20px 0 60px 0;
            background: var(--white);
        }

        .category-page .container {
            max-width: 1600px;
            padding: 0 40px;
        }

        .breadcrumb-section {
            padding: 20px 0;
            background: var(--light-gray);
            border-bottom: 1px solid var(--border-color);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            flex-wrap: wrap;
        }

        .breadcrumb a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .breadcrumb a:hover {
            color: var(--primary-color);
            background: rgba(52, 152, 219, 0.1);
            text-decoration: none;
        }

        .breadcrumb span.separator {
            color: #999;
            font-size: 12px;
            margin: 0 4px;
        }

        .breadcrumb span.current {
            color: var(--primary-color);
            font-weight: 600;
            padding: 4px 8px;
        }

        .category-header {
            margin: 0 0 20px 0;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .category-header h1 {
            font-size: 36px;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .category-header p {
            font-size: 16px;
            color: var(--text-color);
            line-height: 1.6;
        }

        .category-content-wrapper {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 40px;
            margin-top: 0;
        }

        /* Filters Sidebar */
        .filters-sidebar {
            background: var(--light-gray);
            padding: 25px;
            border-radius: 8px;
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .filters-sidebar h3 {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .filters-sidebar .close-filters {
            display: none;
        }

        .filter-group {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .filter-group:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .filter-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 12px;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        @media (max-width: 1024px) {
            .filters-sidebar .filter-group {
                margin-bottom: 15px;
                padding-bottom: 12px;
            }

            .filters-sidebar .filter-group label {
                font-size: 13px;
                margin-bottom: 8px;
            }

            .filters-sidebar .filter-options {
                gap: 8px;
            }

            .filters-sidebar .filter-option {
                gap: 8px;
            }

            .filters-sidebar .filter-option label {
                font-size: 13px;
            }

            .filters-sidebar .filter-apply-btn,
            .filters-sidebar .filter-reset-btn {
                padding: 10px;
                font-size: 14px;
                margin-top: 10px;
            }

            .filters-sidebar .filter-reset-btn {
                margin-top: 8px;
            }

            .filters-sidebar .filter-price-range {
                gap: 6px;
            }

            .filters-sidebar .filter-price-range input {
                padding: 6px 8px;
                font-size: 13px;
                min-width: 0;
                flex: 1 1 0;
            }

            .filters-sidebar .filter-price-range span {
                flex-shrink: 0;
                font-size: 13px;
                color: var(--text-color);
            }
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-option input[type="checkbox"],
        .filter-option input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--secondary-color);
        }

        .filter-option label {
            font-size: 14px;
            font-weight: 400;
            color: var(--text-color);
            cursor: pointer;
            margin: 0;
            flex: 1;
        }

        .filter-price-range {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .filter-price-range input {
            flex: 1;
            padding: 8px 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            min-width: 0;
            width: 100%;
        }

        .filter-apply-btn {
            width: 100%;
            padding: 12px;
            background: var(--secondary-color);
            color: var(--white);
            border: none;
            border-radius: 5px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .filter-apply-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .filter-reset-btn {
            width: 100%;
            padding: 10px;
            background: transparent;
            color: var(--secondary-color);
            border: 2px solid var(--secondary-color);
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .filter-reset-btn:hover {
            background: var(--secondary-color);
            color: var(--white);
        }

        /* Products Section */
        .products-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .products-count {
            font-size: 14px;
            color: var(--text-color);
        }

        .products-count strong {
            color: var(--primary-color);
        }

        .sort-filter-bar {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .sort-select {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            font-size: 14px;
            background: var(--white);
            color: var(--text-color);
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .sort-select:hover,
        .sort-select:focus {
            border-color: var(--secondary-color);
            outline: none;
        }

        .view-toggle {
            display: flex;
            gap: 5px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            overflow: hidden;
        }

        .view-toggle button {
            padding: 10px 15px;
            background: var(--white);
            border: none;
            cursor: pointer;
            color: var(--text-color);
            transition: all 0.3s;
            font-size: 16px;
        }

        .view-toggle button.active {
            background: var(--secondary-color);
            color: var(--white);
        }

        .view-toggle button:hover {
            background: var(--light-gray);
        }

        .view-toggle button.active:hover {
            background: #2980b9;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .pagination button,
        .pagination a {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            background: var(--white);
            color: var(--text-color);
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 40px;
            text-align: center;
        }

        .pagination button:hover,
        .pagination a:hover {
            border-color: var(--secondary-color);
            background: var(--secondary-color);
            color: var(--white);
        }

        .pagination button.active,
        .pagination a.active {
            background: var(--secondary-color);
            color: var(--white);
            border-color: var(--secondary-color);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination button:disabled:hover {
            background: var(--white);
            color: var(--text-color);
            border-color: var(--border-color);
        }

        /* Mobile Filters Toggle */
        .mobile-filters-toggle {
            display: none;
            width: 100%;
            padding: 12px 20px;
            background: var(--secondary-color);
            color: var(--white);
            border: none;
            border-radius: 5px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s;
            position: relative;
            z-index: 100;
        }

        .mobile-filters-toggle:hover {
            background: #2980b9;
        }

        .mobile-filters-toggle i {
            margin-right: 8px;
        }

        .mobile-filters-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-filters-overlay.active {
            display: block;
            opacity: 1;
        }

        @media (max-width: 1024px) {
            .category-page .container {
                padding: 0 20px;
            }

            .category-content-wrapper {
                grid-template-columns: 1fr;
                gap: 30px;
            }

             .filters-sidebar {
                 position: fixed;
                 top: 50%;
                 left: 50%;
                 transform: translate(-50%, -50%) scale(0.9);
                 width: min(90vw, 400px);
                 max-height: 95vh;
                 height: auto;
                 background: var(--white);
                 padding: 20px;
                 border-radius: 12px;
                 z-index: 10001;
                 overflow-y: visible;
                 opacity: 0;
                 visibility: hidden;
                 transition: all 0.3s ease;
                 box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
             }

            .filters-sidebar.active {
                opacity: 1;
                visibility: visible;
                transform: translate(-50%, -50%) scale(1);
            }

            .filters-sidebar h3 {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 2px solid var(--border-color);
                font-size: 16px;
            }

            .filters-sidebar .close-filters {
                display: flex;
                background: none;
                border: none;
                font-size: 24px;
                color: var(--text-color);
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: all 0.3s;
                flex-shrink: 0;
            }

            .filters-sidebar .close-filters:hover {
                background: var(--light-gray);
                color: var(--primary-color);
            }

            .mobile-filters-toggle {
                display: block;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .category-header h1 {
                font-size: 28px;
            }

            .products-section-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
            }

            .view-toggle {
                width: 100%;
            }

            .view-toggle button {
                flex: 1;
            }
        }

        /* Shopify integration classes */
        .shopify-collection-id {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <a href="index.html">
                            <img src="fernox.png" alt="Fernox Latvia" class="logo-image">
                        </a>
                    </div>
                    
                    <nav class="main-nav">
                        <ul>
                            <li><a href="index.html">Visi</a></li>
                            <li class="has-dropdown">
                                <a href="under-construction.html">Kategorijas <i class="fas fa-chevron-down"></i></a>
                                <ul class="dropdown">
                                    <li><a href="category-tirisanas-lidzekli.html">Tīrīšanas līdzekļi</a></li>
                                    <li><a href="under-construction.html">Filtri</a></li>
                                    <li><a href="under-construction.html">Korozijas inhibitori</a></li>
                                </ul>
                            </li>
                            <li><a href="under-construction.html">Serviss</a></li>
                            <li><a href="under-construction.html">Būvniecība</a></li>
                            <li><a href="under-construction.html">Izpārdošana</a></li>
                        </ul>
                    </nav>
                    
                    <div class="header-actions">
                        <div class="cart-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="compare-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <section class="breadcrumb-section">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">
                    <i class="fas fa-home"></i> Sākums
                </a>
                <span class="separator">
                    <i class="fas fa-chevron-right"></i>
                </span>
                <a href="under-construction.html">Kategorijas</a>
                <span class="separator">
                    <i class="fas fa-chevron-right"></i>
                </span>
                <span class="current">Tīrīšanas līdzekļi</span>
            </div>
        </div>
    </section>

    <!-- Category Page -->
    <section class="category-page">
        <div class="container">
            <div class="category-header">
                <h1>Tīrīšanas līdzekļi</h1>
                <p>
                    Augstas kvalitātes tīrīšanas līdzekļi jūsu apkures un karstā ūdens sistēmu uzturēšanai. 
                    Mūsu produktu klāsts nodrošina efektīvu sistēmu tīrīšanu, noņemot nogulsnes, rūsu un citus piesārņojumus, 
                    lai nodrošinātu optimālu sistēmas veiktspēju un ilgmūžību.
                </p>
            </div>

            <!-- Shopify Collection ID (hidden, for integration) -->
            <div class="shopify-collection-id" data-shopify-collection-id="TIRISANAS-LIDZEKLI"></div>

            <button class="mobile-filters-toggle" onclick="toggleMobileFilters()">
                <i class="fas fa-filter"></i> Filtri
            </button>

            <!-- Mobile Filters Overlay -->
            <div class="mobile-filters-overlay" id="filtersOverlay" onclick="closeMobileFilters()"></div>

            <div class="category-content-wrapper">
                <!-- Filters Sidebar -->
                <aside class="filters-sidebar" id="filtersSidebar">
                    <h3>
                        <span><i class="fas fa-filter"></i> Filtri</span>
                        <button class="close-filters" onclick="closeMobileFilters()" aria-label="Close filters">
                            <i class="fas fa-times"></i>
                        </button>
                    </h3>

                    <!-- Price Filter -->
                    <div class="filter-group">
                        <label>Cena</label>
                        <div class="filter-price-range">
                            <input type="number" id="minPrice" placeholder="Min" min="0">
                            <span>-</span>
                            <input type="number" id="maxPrice" placeholder="Max" min="0">
                        </div>
                    </div>

                    <!-- Brand Filter -->
                    <div class="filter-group">
                        <label>Zīmols</label>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="checkbox" id="brand-fernox" name="brand" value="fernox" data-shopify-filter="vendor">
                                <label for="brand-fernox">Fernox</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="brand-f3" name="brand" value="f3" data-shopify-filter="vendor">
                                <label for="brand-f3">F3</label>
                            </div>
                        </div>
                    </div>

                    <!-- Availability Filter -->
                    <div class="filter-group">
                        <label>Pieejamība</label>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="checkbox" id="availability-in-stock" name="availability" value="in-stock" data-shopify-filter="availability">
                                <label for="availability-in-stock">Ir noliktavā</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="availability-out-of-stock" name="availability" value="out-of-stock" data-shopify-filter="availability">
                                <label for="availability-out-of-stock">Nav noliktavā</label>
                            </div>
                        </div>
                    </div>

                    <!-- Volume Filter -->
                    <div class="filter-group">
                        <label>Tilpums</label>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="checkbox" id="volume-250ml" name="volume" value="250ml" data-shopify-filter="volume">
                                <label for="volume-250ml">250 ml</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="volume-500ml" name="volume" value="500ml" data-shopify-filter="volume">
                                <label for="volume-500ml">500 ml</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="volume-1l" name="volume" value="1l" data-shopify-filter="volume">
                                <label for="volume-1l">1 L</label>
                            </div>
                        </div>
                    </div>

                    <!-- Badge Filter -->
                    <div class="filter-group">
                        <label>Piedāvājumi</label>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="checkbox" id="badge-new" name="badge" value="new" data-shopify-filter="tag">
                                <label for="badge-new">Jauni produkti</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="badge-sale" name="badge" value="sale" data-shopify-filter="tag">
                                <label for="badge-sale">Atlaide</label>
                            </div>
                        </div>
                    </div>

                    <button class="filter-apply-btn" onclick="applyFilters()">
                        <i class="fas fa-check"></i> Piemērot filtrus
                    </button>
                    <button class="filter-reset-btn" onclick="resetFilters()">
                        <i class="fas fa-redo"></i> Atiestatīt
                    </button>
                </aside>

                <!-- Products Section -->
                <div class="products-content">
                    <div class="products-section-header">
                        <div class="products-count">
                            Parādīti <strong id="productsCount">12</strong> no <strong id="totalProducts">12</strong> produktiem
                        </div>
                        <div class="sort-filter-bar">
                            <select class="sort-select" id="sortSelect" onchange="sortProducts()">
                                <option value="default">Noklusējuma kārtība</option>
                                <option value="price-asc">Cena: no zemākās uz augstāko</option>
                                <option value="price-desc">Cena: no augstākās uz zemāko</option>
                                <option value="name-asc">Nosaukums: A-Z</option>
                                <option value="name-desc">Nosaukums: Z-A</option>
                                <option value="newest">Jaunākie</option>
                                <option value="popular">Populārākie</option>
                            </select>
                            <div class="view-toggle">
                                <button class="active" onclick="setGridView()" aria-label="Grid view">
                                    <i class="fas fa-th"></i>
                                </button>
                                <button onclick="setListView()" aria-label="List view">
                                    <i class="fas fa-list"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        <!-- Product cards will be populated by Shopify or JavaScript -->
                        <div class="product-card" data-shopify-product-id="F3-500ML">
                            <div class="product-badges">
                                <span class="badge new">JAUNS</span>
                                <span class="badge discount">%%%</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Tīrīšanas līdzeklis F3 500ml">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F3</p>
                                <h3 class="product-name">Tīrīšanas līdzeklis F3 500ml</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                    <span class="old-price">€€€€€</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-card" data-shopify-product-id="F3-250ML">
                            <div class="product-badges">
                                <span class="badge new">JAUNS</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Tīrīšanas līdzeklis F3 250ml">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F3</p>
                                <h3 class="product-name">Tīrīšanas līdzeklis F3 250ml</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-card" data-shopify-product-id="F3-1L">
                            <div class="product-badges">
                                <span class="badge discount">%%%</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Tīrīšanas līdzeklis F3 1L">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F3</p>
                                <h3 class="product-name">Tīrīšanas līdzeklis F3 1L</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                    <span class="old-price">€€€€€</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-card" data-shopify-product-id="F1-500ML">
                            <div class="product-badges">
                                <span class="badge new">JAUNS</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Aizsarglīdzeklis F1 500ml">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F1</p>
                                <h3 class="product-name">Aizsarglīdzeklis F1 500ml</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-card" data-shopify-product-id="F1-250ML">
                            <div class="product-badges">
                                <span class="badge discount">%%%</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Aizsarglīdzeklis F1 250ml">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F1</p>
                                <h3 class="product-name">Aizsarglīdzeklis F1 250ml</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                    <span class="old-price">€€€€€</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-card" data-shopify-product-id="F1-1L">
                            <div class="product-badges">
                                <span class="badge new">JAUNS</span>
                            </div>
                            <div class="product-image">
                                <img src="f3500ml.jpg" alt="Aizsarglīdzeklis F1 1L">
                            </div>
                            <div class="product-info">
                                <p class="product-brand">F1</p>
                                <h3 class="product-name">Aizsarglīdzeklis F1 1L</h3>
                                <div class="product-price">
                                    <span class="current-price">€€€€€</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div class="pagination" id="pagination">
                        <button onclick="goToPage(1)" disabled>
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="active" onclick="goToPage(1)">1</button>
                        <button onclick="goToPage(2)">2</button>
                        <button onclick="goToPage(3)">3</button>
                        <button onclick="goToPage(2)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Informācija</h4>
                    <ul>
                        <li><a href="under-construction.html">Par mums</a></li>
                        <li><a href="under-construction.html">Piegāde</a></li>
                        <li><a href="under-construction.html">Privātuma politika</a></li>
                        <li><a href="under-construction.html">Noteikumi un nosacījumi</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Klientu serviss</h4>
                    <ul>
                        <li><a href="under-construction.html">Kontakti</a></li>
                        <li><a href="under-construction.html">Atgriešana</a></li>
                        <li><a href="under-construction.html">Vietnes karte</a></li>
                        <li><a href="under-construction.html">Zīmoli</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Jaunumu vēstule</h4>
                    <p>Nepalaidiet garām jaunumus vai piedāvājumus, abonējiet mūsu jaunumu vēstuli.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Jūsu e-pasta adrese">
                        <button type="submit">Sūtīt</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                </div>
                <p class="copyright">Autortiesības © 2025, Fernox , Visas tiesības aizsargātas</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile filters toggle
        function toggleMobileFilters() {
            const sidebar = document.getElementById('filtersSidebar');
            const overlay = document.getElementById('filtersOverlay');
            const isActive = sidebar.classList.contains('active');
            
            if (isActive) {
                closeMobileFilters();
            } else {
                sidebar.classList.add('active');
                if (overlay) {
                    overlay.classList.add('active');
                }
                // Prevent body scroll when filters are open
                const scrollY = window.scrollY;
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
                document.body.style.top = `-${scrollY}px`;
                document.body.style.overflow = 'hidden';
            }
        }

        // Close mobile filters
        function closeMobileFilters() {
            const sidebar = document.getElementById('filtersSidebar');
            const overlay = document.getElementById('filtersOverlay');
            
            if (sidebar) {
                sidebar.classList.remove('active');
            }
            if (overlay) {
                overlay.classList.remove('active');
            }
            // Restore body scroll
            const scrollY = document.body.style.top;
            document.body.style.position = '';
            document.body.style.width = '';
            document.body.style.top = '';
            document.body.style.overflow = '';
            if (scrollY) {
                window.scrollTo(0, parseInt(scrollY || '0') * -1);
            }
        }

        // Filter functions
        function applyFilters() {
            const filters = {
                minPrice: document.getElementById('minPrice').value,
                maxPrice: document.getElementById('maxPrice').value,
                brands: Array.from(document.querySelectorAll('input[name="brand"]:checked')).map(cb => cb.value),
                availability: Array.from(document.querySelectorAll('input[name="availability"]:checked')).map(cb => cb.value),
                volumes: Array.from(document.querySelectorAll('input[name="volume"]:checked')).map(cb => cb.value),
                badges: Array.from(document.querySelectorAll('input[name="badge"]:checked')).map(cb => cb.value)
            };

            // Shopify integration - replace with actual Shopify filter API call
            // Example:
            // const collectionId = document.querySelector('.shopify-collection-id').getAttribute('data-shopify-collection-id');
            // fetch(`/collections/${collectionId}/products.json?${buildQueryString(filters)}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         renderProducts(data.products);
            //     });

            console.log('Applied filters:', filters);
            
            // Close mobile filters
            if (window.innerWidth <= 1024) {
                closeMobileFilters();
            }
            
            // Update products count (placeholder)
            updateProductsCount();
        }

        function resetFilters() {
            // Reset all filter inputs
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);

            // Shopify integration - reload all products
            // const collectionId = document.querySelector('.shopify-collection-id').getAttribute('data-shopify-collection-id');
            // fetch(`/collections/${collectionId}/products.json`)
            //     .then(response => response.json())
            //     .then(data => {
            //         renderProducts(data.products);
            //     });

            console.log('Filters reset');
            updateProductsCount();
        }

        // Sort products
        function sortProducts() {
            const sortValue = document.getElementById('sortSelect').value;
            const productsGrid = document.getElementById('productsGrid');
            const products = Array.from(productsGrid.querySelectorAll('.product-card'));

            // Shopify integration - replace with actual Shopify sort API call
            // Example:
            // const collectionId = document.querySelector('.shopify-collection-id').getAttribute('data-shopify-collection-id');
            // fetch(`/collections/${collectionId}/products.json?sort_by=${sortValue}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         renderProducts(data.products);
            //     });

            console.log('Sort by:', sortValue);
            
            // Simple client-side sorting (placeholder)
            products.sort((a, b) => {
                const nameA = a.querySelector('.product-name').textContent.trim();
                const nameB = b.querySelector('.product-name').textContent.trim();
                
                switch(sortValue) {
                    case 'name-asc':
                        return nameA.localeCompare(nameB);
                    case 'name-desc':
                        return nameB.localeCompare(nameA);
                    default:
                        return 0;
                }
            });

            products.forEach(product => productsGrid.appendChild(product));
        }

        // View toggle
        function setGridView() {
            const grid = document.getElementById('productsGrid');
            grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(250px, 1fr))';
            document.querySelectorAll('.view-toggle button').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        function setListView() {
            const grid = document.getElementById('productsGrid');
            grid.style.gridTemplateColumns = '1fr';
            document.querySelectorAll('.view-toggle button').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        // Pagination
        function goToPage(page) {
            // Shopify integration - replace with actual Shopify pagination API call
            // Example:
            // const collectionId = document.querySelector('.shopify-collection-id').getAttribute('data-shopify-collection-id');
            // fetch(`/collections/${collectionId}/products.json?page=${page}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         renderProducts(data.products);
            //         updatePagination(data.pagination);
            //     });

            console.log('Go to page:', page);
            
            // Update active page button
            document.querySelectorAll('.pagination button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.trim() == page) {
                    btn.classList.add('active');
                }
            });
        }

        // Update products count
        function updateProductsCount() {
            const visibleProducts = document.querySelectorAll('.product-card').length;
            document.getElementById('productsCount').textContent = visibleProducts;
            document.getElementById('totalProducts').textContent = visibleProducts;
        }

        // Shopify product data loading (for integration)
        document.addEventListener('DOMContentLoaded', function() {
            // Example: Load collection products from Shopify
            // const collectionId = document.querySelector('.shopify-collection-id').getAttribute('data-shopify-collection-id');
            // fetch(`/collections/${collectionId}/products.json`)
            //     .then(response => response.json())
            //     .then(data => {
            //         renderProducts(data.products);
            //         updateProductsCount();
            //     });

            updateProductsCount();

            // Make product cards clickable
            document.querySelectorAll('.product-card').forEach(card => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', function() {
                    const productId = this.getAttribute('data-shopify-product-id');
                    // Redirect to product page
                    // window.location.href = `/products/${productId}`;
                    window.location.href = 'under-construction.html';
                });
            });
        });

            // Close mobile filters on escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    closeMobileFilters();
                }
            });
    </script>
    <script src="script.js"></script>
</body>
</html>

